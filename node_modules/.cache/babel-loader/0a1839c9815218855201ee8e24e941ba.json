{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\node+express+mongodb\\\\frontend\\\\src\\\\Component\\\\Covid19\\\\Dashbord.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'; // My Stuff\n\nimport LocalDashboard from './LocalDashboard';\nimport GlobalDashboard from './GlobalDashboard';\nimport HospitalList from '../Hospital/HospitalList';\nimport Navbar from '../shared/Navigation/Navbar';\nimport { Typography, Container, Paper, LinearProgress } from '@material-ui/core';\n\nfunction Dashboard() {\n  const [stats, setStats] = useState({\n    dashboard: {},\n    hospitalData: []\n  });\n  useEffect(() => {\n    fetch('https://hpb.health.gov.lk/api/get-current-statistical').then(response => response.json()).then(response => {\n      if (response.success === true) {\n        setStats({\n          dashboard: response.data,\n          hospitalData: response.data.hospital_data\n        });\n      }\n    }).catch(() => console.log('Something went wrong...'));\n  }, []);\n\n  const localDasboard = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(LocalDashboard, {\n      dashboardData: stats.dashboard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Paper, {\n      style: {\n        marginTop: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(GlobalDashboard, {\n      dashboardData: stats.dashboard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    style: {\n      marginTop: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/hospitals\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"Hospital Breakdown\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, `Last updated: ${stats.dashboard.update_date_time}`), /*#__PURE__*/React.createElement(HospitalList, {\n    tableData: stats.hospitalData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, stats.hospitalData.length > 0 ? localDasboard() : /*#__PURE__*/React.createElement(LinearProgress, {\n    variant: \"query\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }))))));\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["D:/projects/node+express+mongodb/frontend/src/Component/Covid19/Dashbord.js"],"names":["React","useState","useEffect","BrowserRouter","Route","Switch","LocalDashboard","GlobalDashboard","HospitalList","Navbar","Typography","Container","Paper","LinearProgress","Dashboard","stats","setStats","dashboard","hospitalData","fetch","then","response","json","success","data","hospital_data","catch","console","log","localDasboard","marginTop","update_date_time","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\n// My Stuff\r\nimport LocalDashboard from './LocalDashboard';\r\nimport GlobalDashboard from './GlobalDashboard';\r\nimport HospitalList from '../Hospital/HospitalList';\r\nimport Navbar from '../shared/Navigation/Navbar';\r\nimport {\r\n  Typography,\r\n  Container,\r\n  Paper,\r\n  LinearProgress\r\n} from '@material-ui/core';\r\n\r\nfunction Dashboard() {\r\n  const [stats, setStats] = useState({ dashboard: {}, hospitalData: [] });\r\n\r\n  useEffect(() => {\r\n    fetch('https://hpb.health.gov.lk/api/get-current-statistical')\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.success === true) {\r\n          setStats({\r\n            dashboard: response.data,\r\n            hospitalData: response.data.hospital_data\r\n          });\r\n        }\r\n      })\r\n      .catch(() => console.log('Something went wrong...'));\r\n  }, []);\r\n\r\n  const localDasboard = () => {\r\n    return (\r\n      <div>\r\n        <LocalDashboard dashboardData={stats.dashboard} />\r\n        <Paper style={{ marginTop: 20 }} />\r\n        <GlobalDashboard dashboardData={stats.dashboard} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <BrowserRouter>\r\n        <Navbar />\r\n        <Container style={{ marginTop: 30 }}>\r\n          <Switch>\r\n            <Route path=\"/hospitals\">\r\n              <Typography variant=\"h5\">Hospital Breakdown</Typography>\r\n              <Typography variant=\"subtitle1\">{`Last updated: ${stats.dashboard.update_date_time}`}</Typography>\r\n              <HospitalList tableData={stats.hospitalData} />\r\n            </Route>\r\n            <Route path=\"/\">\r\n              {stats.hospitalData.length > 0 ? (\r\n                localDasboard()\r\n              ) : (\r\n                <LinearProgress variant=\"query\" />\r\n              )}\r\n            </Route>\r\n          </Switch>\r\n        </Container>\r\n      </BrowserRouter>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}